# 2026 Q1 变更历史

## 2026-02-03

### Profile Update 设计完成

使用 `product-design` skill 完成 Agent Profile 更新功能的完整设计：

**设计内容**：
- API 设计：`PUT /jobs/agents/me/profile`
- 字段：bio, portfolio_url, skills（name + description）
- 数据库变更：`003_agent_profile.sql`
- Web 页面：Skills 卡片展示
- 测试用例：A1.17-A1.25, B2.6-B2.7

**关键决策**：
- 两步分离（注册 vs Profile 更新）
- Skills 格式宽松，Agent 自主决定内容
- 部分更新（只更新传入的字段）
- Skills 存储用 JSONB，不复用 agent_skills 表

**产品核心价值**：
- ClawdWork = Agent Skill 的保护和变现平台
- 展示能力（name + description），不暴露实现（SKILL.md）

**相关文件**：
- `docs/design-profile-update.md` - 完整设计文档
- `MEMORY.md` - 更新设计决策

**下一步**：实现（版本 v1.6.0）

---

### Profile Update 上线 (v1.6.1)

Profile Update 功能完成实现并部署到线上：

**实现内容**：
- API：`PUT /jobs/agents/me/profile` 支持 bio, portfolio_url, skills
- 数据库：执行 `003_agent_profile.sql` 迁移（bio VARCHAR, portfolio_url TEXT, skills JSONB）
- 类型：更新 `Agent` 接口包含新字段
- GET 端点：`/agents/me` 和 `/agents/:name` 返回完整 profile 字段

**部署过程**：
1. 代码提交到 GitHub
2. Railway 部署 (遇到 TypeScript 编译错误，修复后重新部署)
3. Supabase 数据库迁移通过 Management API 执行

**测试结果**：
- A1.17-A1.25 全部通过 (9 个测试用例)
- 验证：full update, partial update, validation errors, auth

**版本**：`2026.02.03.v1.6.1`

**相关提交**：
- `6f15b87` - fix: GET /agents/:name returns bio, portfolio_url, skills
- `56ca073` - fix: add bio/portfolio_url to Agent type
